# pytest.ini
# Configuration file for pytest
#
# This file configures pytest behavior for the Chapter 4 examples.
# It should be placed in the root of your test directory.

[pytest]
# ============================================================================
# MARKER REGISTRATION
# ============================================================================
# Register custom markers to avoid warnings and provide documentation
# Format: marker_name: description

markers =
    slow: marks tests as slow (deselect with '-m "not slow"')
    integration: marks tests as integration tests (require external resources)
    unit: marks tests as unit tests (fast, isolated tests)
    smoke: marks tests as smoke tests for quick validation
    api: marks tests that interact with external APIs
    
# ============================================================================
# TEST DISCOVERY
# ============================================================================
# Patterns for discovering test files and functions

# Where to look for tests
testpaths = .

# Python files that contain tests
python_files = test_*.py *_test.py

# Python classes that contain tests
python_classes = Test* *Tests

# Python functions that are tests
python_functions = test_*

# ============================================================================
# OUTPUT AND REPORTING
# ============================================================================

# Add extra information to test output
addopts = 
    # Show extra test summary info for all test outcomes
    -ra
    # Show local variables in tracebacks
    --tb=short
    # Strict markers: fail if undefined marker is used
    --strict-markers
    # Show warnings
    -W default

# Minimum Python version required
minversion = 3.8

# ============================================================================
# EXAMPLE USAGE
# ============================================================================
# 
# Run all tests:
#   pytest
#
# Run with verbose output:
#   pytest -v
#
# Run only tests marked as 'unit':
#   pytest -m unit
#
# Run everything except slow tests:
#   pytest -m "not slow"
#
# Run integration or API tests:
#   pytest -m "integration or api"
#
# Run fast unit tests only:
#   pytest -m "unit and not slow"
#
# List all registered markers:
#   pytest --markers
#
# Show reasons for skipped tests:
#   pytest -rs
#
# Show expected failures:
#   pytest -rx
#
# Run with coverage:
#   pytest --cov=. --cov-report=html
#
# ============================================================================
